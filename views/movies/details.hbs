<div class="movie-details-container">
    <div class="movie-header">
        <div class="movie-poster">
            <img src="{{movie.posterurl}}" alt="–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞ {{movie.title}}">
            <span class="rating-badge-lg">{{movie.ratingavg}} ‚≠ê</span>
            {{#if movie.agerestriction}}
                <div class="age-restriction-badge age-{{movie.agerestriction}}">
                    {{movie.agerestriction}}+
                </div>
            {{/if}}
        </div>

        <div class="movie-info">
            <div class="movie-title-group">
                <h1>{{movie.title}} ({{movie.releaseyear}})</h1>
                {{#if isAdmin}}
                    <a href="/admin/movies/{{movie.movieid}}/edit" class="btn btn-admin-edit" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å–º">
                        <i class="fas fa-edit"></i> –ò–∑–º–µ–Ω–∏—Ç—å
                    </a>
                {{/if}}
            </div>

            <div class="meta-data">
                <p><strong>–ñ–∞–Ω—Ä:</strong> {{movie.genre}}</p>
                <p><strong>–†–µ–∂–∏—Å—Å–µ—Ä:</strong> <a href="/director/{{movie.directorid}}" class="director-link">{{movie.directorname}}</a></p>
                <p><strong>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> {{formatDuration movie.durationmin}}</p>

                <!-- –ü–ï–†–ï–ú–ï–©–ê–ï–ú –¶–ï–ù–£ –°–Æ–î–ê -->
                {{#if movie.price}}
                    <p><strong>–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –±–∏–ª–µ—Ç–∞:</strong> <span class="price-text">{{movie.price}} BYN</span></p>
                {{/if}}
            </div>


            <!-- –ù–û–í–´–ô –ë–õ–û–ö –î–õ–Ø –°–¢–û–†–û–ù–ù–ò–• –†–ï–ô–¢–ò–ù–ì–û–í -->
            <div class="external-ratings-block" data-movie-title="{{movie.title}}" data-movie-year="{{movie.releaseyear}}">
                <p><strong>–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏:</strong></p>
                <div id="external-ratings-results">
                    <p class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤...</p>
                </div>
            </div>
            <!-- –ö–û–ù–ï–¶ –ë–õ–û–ö–ê –†–ï–ô–¢–ò–ù–ì–û–í -->

            {{#if firstUpcomingScreening}}
                <div class="screening-info-block">
                    <p>
                        <strong>–ë–ª–∏–∂–∞–π—à–∏–π —Å–µ–∞–Ω—Å:</strong>
                        {{formatDate firstUpcomingScreening.starttime}} (–ó–∞–ª: {{firstUpcomingScreening.hallname}})
                    </p>
                </div>
                <div class="movie-actions">
                    <a href="/movies/{{movie.movieid}}/select-time" class="btn btn-primary btn-lg">
                        –ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç</a>
                </div>
            {{else}}
                <div class="alert alert-info movie-actions-placeholder">
                    –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ–∞–Ω—Å–æ–≤ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–æ–≤.
                </div>
            {{/if}}
        </div>
    </div>

        <div class="movie-description-block">
            <h2>–û —Ñ–∏–ª—å–º–µ</h2>
            <p>{{movie.description}}</p>
        </div>

        {{#if movie.trailerId}}
            <div class="movie-trailer-block">
                <h2>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–ª–µ—Ä</h2>
                <div class="trailer-iframe-container">
                    <iframe
                            width="100%"
                            height="100%"
                            src="https://www.youtube.com/embed/{{movie.trailerId}}"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen>
                    </iframe>
                </div>
            </div>
        {{/if}}

    {{#if movieShorts.length}}
        <div class="movie-shorts-block">
            <h2>üé¨ –®–æ—Ä—Ç—Å—ã –∫ —Ñ–∏–ª—å–º—É ({{movieShorts.length}})</h2>
            <div class="slider-container shorts-slider-container">
                <button class="slider-arrow slider-prev" data-target="shorts-slider">
                    &#10094;
                </button>

                <div class="shorts-grid slider-wrapper" id="shorts-slider">
                    {{#each movieShorts}}
                        <div class="short-card">
                            <a href="/shorts?movieid={{../movie.movieid}}#{{this.shortid}}" title="{{this.title}}">
                                <div class="short-placeholder-video">
                                    <i class="material-icons">play_circle_filled</i>
                                </div>
                                <span class="short-duration">{{this.durationsec}} —Å–µ–∫—É–Ω–¥</span>
                            </a>
                            <div class="card-info">
                                <h3>{{this.title}}</h3>
                            </div>
                        </div>
                    {{/each}}
                </div>

                <button class="slider-arrow slider-next" data-target="shorts-slider">
                    &#10095;
                </button>
            </div>
        </div>
    {{/if}}

        <!-- –ù–û–í–´–ô –ë–õ–û–ö –û–¢–ó–´–í–û–í -->
        <div class="reviews-section" id="reviews-section">
            <h2>–û—Ç–∑—ã–≤—ã –∑—Ä–∏—Ç–µ–ª–µ–π</h2>
            {{#if movie.isactive}}
                {{#if error}}
                    <div class="alert alert-error">{{error}}</div>
                {{/if}}
                {{#if success}}
                    <div class="alert alert-success">{{success}}</div>
                {{/if}}

                {{#if isAuthenticated}}
                    <div class="review-form-container">
                        {{#if currentUserReview}}
                            <h3>–í–∞—à –æ—Ç–∑—ã–≤ (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)</h3>
                            <form action="/movies/{{movie.movieid}}/review" method="POST" id="edit-review-form">
                                <div class="form-group rating-group">
                                    <label>–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞:</label>
                                    <div class="star-rating-area">
                                        <input type="radio" id="star5-edit" name="rating" value="5" {{#ifeq currentUserReview.rating 5}}checked{{/ifeq}} required>
                                        <label for="star5-edit" title="5 –ó–≤–µ–∑–¥"></label>
                                        <input type="radio" id="star4-edit" name="rating" value="4" {{#ifeq currentUserReview.rating 4}}checked{{/ifeq}}>
                                        <label for="star4-edit" title="4 –ó–≤–µ–∑–¥—ã"></label>
                                        <input type="radio" id="star3-edit" name="rating" value="3" {{#ifeq currentUserReview.rating 3}}checked{{/ifeq}}>
                                        <label for="star3-edit" title="3 –ó–≤–µ–∑–¥—ã"></label>
                                        <input type="radio" id="star2-edit" name="rating" value="2" {{#ifeq currentUserReview.rating 2}}checked{{/ifeq}}>
                                        <label for="star2-edit" title="2 –ó–≤–µ–∑–¥—ã"></label>
                                        <input type="radio" id="star1-edit" name="rating" value="1" {{#ifeq currentUserReview.rating 1}}checked{{/ifeq}}>
                                        <label for="star1-edit" title="1 –ó–≤–µ–∑–¥–∞"></label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="reviewText-edit">–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ (–¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤):</label>
                                    <textarea name="reviewText" id="reviewText-edit" rows="6" maxlength="500">{{currentUserReview.reviewtext}}</textarea>
                                </div>

                                    <h3>–í–∞—à –æ—Ç–∑—ã–≤ (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)</h3>
                                    <div class="review-edit-actions">
                                        <form action="/movies/{{movie.movieid}}/review" method="POST" id="edit-review-form">

                                                <button type="submit" class="btn btn-primary btn-sm">–û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                                        </form>

                                        <form action="/movies/{{movie.movieid}}/review/delete" method="POST"
                                              onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π –æ—Ç–∑—ã–≤ –∏ –æ—Ü–µ–Ω–∫—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.');"
                                              class="delete-user-review-form">
                                            <button type="submit" class="btn btn-danger btn-sm">
                                                <i class="fas fa-trash-alt"></i> –£–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤
                                            </button>
                                        </form>
                                    </div>
                            </form>

                        {{else}}
                            <h3>–û—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π –æ—Ç–∑—ã–≤</h3>
                            <form action="/movies/{{movie.movieid}}/review" method="POST">
                                <div class="form-group rating-group">
                                    <label>–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞:</label>
                                    <div class="star-rating-area">
                                        <input type="radio" id="star5-new" name="rating" value="5" required>
                                        <label for="star5-new" title="5 –ó–≤–µ–∑–¥"></label>
                                        <input type="radio" id="star4-new" name="rating" value="4">
                                        <label for="star4-new" title="4 –ó–≤–µ–∑–¥—ã"></label>
                                        <input type="radio" id="star3-new" name="rating" value="3">
                                        <label for="star3-new" title="3 –ó–≤–µ–∑–¥—ã"></label>
                                        <input type="radio" id="star2-new" name="rating" value="2">
                                        <label for="star2-new" title="2 –ó–≤–µ–∑–¥—ã"></label>
                                        <input type="radio" id="star1-new" name="rating" value="1">
                                        <label for="star1-new" title="1 –ó–≤–µ–∑–¥–∞"></label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="reviewText-new">–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ (–¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤):</label>
                                    <textarea name="reviewText" id="reviewText-new" rows="6" maxlength="500"></textarea>
                                </div>

                                <button type="submit" class="btn btn-primary">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ—Ç–∑—ã–≤</button>
                            </form>
                        {{/if}}
                    </div>

                {{else}}
                    <div class="alert alert-info review-login-message">
                        <a href="/auth/login">–í–æ–π–¥–∏—Ç–µ</a>, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π –æ—Ç–∑—ã–≤ –∏ –æ—Ü–µ–Ω–∫—É.
                    </div>
                {{/if}}

            {{else}}
                <div class="alert alert-info review-login-message">
                    –û—Ç–∑—ã–≤—ã –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Ñ–∏–ª—å–º—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –∞–∫—Ç–∏–≤–Ω–æ–º –ø—Ä–æ–∫–∞—Ç–µ.
                </div>
            {{/if}}

            <div class="reviews-list">
            <!-- 1. –û–¢–ó–´–í –¢–ï–ö–£–©–ï–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (–µ—Å–ª–∏ –µ—Å—Ç—å) - –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º -->
            {{#if currentUserReview}}
                <div class="review-item user-review-highlight">
                    <div class="review-header">
                        <span class="review-author">–í—ã</span>
                        <span class="review-rating">{{currentUserReview.rating}} ‚≠ê</span>
                        <span class="review-date">{{formatDate currentUserReview.createdat}}</span>
                    </div>
                    <p class="review-text">{{currentUserReview.reviewtext}}</p>
                </div>
            {{/if}}

            <!-- 2. –û–°–¢–ê–õ–¨–ù–´–ï –û–¢–ó–´–í–´ -->
            {{#each reviews}}
                <div class="review-item">
                    <div class="review-header">
                        <span class="review-author">{{this.nickname}}</span>
                        <span class="review-rating">{{this.rating}} ‚≠ê</span>
                        <span class="review-date">{{formatDate this.createdat}}</span>

                        <!-- –î–û–ë–ê–í–õ–ï–ù–ò–ï –ö–ù–û–ü–ö–ò –£–î–ê–õ–ï–ù–ò–Ø –î–õ–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê -->
                        {{#if ../isAdmin}}
                            <!-- –ò–°–ü–û–õ–¨–ó–£–ï–ú –ö–õ–ê–°–° .btn-text-link –í–ú–ï–°–¢–û –ö–õ–ê–°–°–ê –ö–ù–û–ü–ö–ò –° –ò–ö–û–ù–ö–û–ô -->
                            <div class="admin-review-actions">
                                <form action="/admin/reviews/{{this.reviewid}}/delete" method="POST" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç–∑—ã–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ?');">
                                    <button type="submit" class="btn-text-link" title="–£–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤">
                                        –£–¥–∞–ª–∏—Ç—å
                                    </button>
                                </form>
                            </div>
                        {{/if}}
                        <!-- –ö–û–ù–ï–¶ –î–û–ë–ê–í–õ–ï–ù–ò–Ø –ö–ù–û–ü–ö–ò -->

                    </div>
                    <p class="review-text">{{this.reviewtext}}</p>
                </div>
            {{else}}
                {{#unless currentUserReview}}
                    {{#if movie.isactive}}
                    <p>–ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç –æ—Ç–∑—ã–≤ –Ω–∞ —ç—Ç–æ—Ç —Ñ–∏–ª—å–º!</p>
                    {{/if}}
                {{/unless}}
            {{/each}}
        </div>
    </div>
</div>

<style>
    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .movie-details-container {
        max-width: 1200px;
        margin: 40px auto;
        padding: 0 20px;
        color: var(--text-primary);
        transition: color 0.3s ease;
    }

    /* –®–∞–ø–∫–∞ —Ñ–∏–ª—å–º–∞ */
    .movie-header {
        display: flex;
        gap: 50px;
        margin-bottom: 50px;
        flex-wrap: wrap;
    }

    .movie-poster {
        flex-shrink: 0;
        position: relative;
        width: 300px;
        height: 450px;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 8px 30px var(--shadow-color);
        background-color: var(--bg-card);
        transition: all 0.3s ease;
    }

    .movie-poster img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform 0.3s ease;
    }

    .movie-poster:hover img {
        transform: scale(1.03);
    }

    .rating-badge-lg {
        position: absolute;
        top: 15px;
        right: 15px;
        background: linear-gradient(135deg, var(--accent-primary), var(--accent-hover));
        color: white;
        padding: 10px 15px;
        border-radius: 8px;
        font-size: 1.2rem;
        font-weight: bold;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        z-index: 10;
    }

    /* –í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ */
    .age-restriction-badge {
        position: absolute;
        bottom: 15px;
        left: 15px;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.5rem;
        color: white;
        z-index: 10;
        box-shadow: 0 3px 10px var(--shadow-color);
        border: 3px solid white;
    }

    .age-0 { background-color: #4CAF50; }
    .age-6 { background-color: #2196F3; }
    .age-12 { background-color: #FF9800; }
    .age-16 { background-color: #F44336; }
    .age-18 { background-color: #000000; }

    /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ */
    .movie-info {
        flex-grow: 1;
        min-width: 300px;
    }

    .movie-title-group {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
        flex-wrap: wrap;
        gap: 20px;
    }

    .movie-title-group h1 {
        font-size: 2.8rem;
        color: var(--text-primary);
        margin: 0;
        font-weight: bold;
        line-height: 1.2;
        flex-grow: 1;
    }

    .btn-admin-edit {
        display: inline-flex;
        align-items: center;
        padding: 10px 20px;
        font-size: 14px;
        font-weight: bold;
        text-transform: uppercase;
        background-color: var(--success-color);
        color: white;
        border-radius: 8px;
        text-decoration: none;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        gap: 8px;
        white-space: nowrap;
    }

    .btn-admin-edit:hover {
        background-color: #218838;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
    }

    .btn-admin-edit:active {
        transform: translateY(0);
    }

    /* –ú–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ */
    .meta-data {
        margin-bottom: 30px;
    }

    .meta-data p {
        font-size: 1.1rem;
        margin: 12px 0;
        color: var(--text-secondary);
        line-height: 1.6;
    }

    .meta-data strong {
        color: var(--text-primary);
        font-weight: 600;
    }

    .director-link {
        color: inherit;
        text-decoration: none;
        border-bottom: 1px solid var(--border-color);
        transition: color 0.2s, border-bottom-color 0.2s;
        font-weight: 500;
        padding-bottom: 2px;
    }

    .director-link:hover {
        color: var(--accent-primary);
        border-bottom-color: var(--accent-primary);
    }

    .price-text {
        color: var(--accent-primary);
        font-weight: bold;
        font-size: 1.3rem;
        margin-left: 5px;
    }

    /* –í–Ω–µ—à–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ */
    .external-ratings-block {
        margin: 25px 0;
        padding: 20px;
        border: 2px dashed var(--border-color);
        border-radius: 10px;
        max-width: 500px;
        background-color: var(--bg-card);
    }

    #external-ratings-results {
        margin-top: 15px;
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .external-rating-item {
        font-size: 1rem;
        color: var(--text-secondary);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 12px;
        background-color: var(--bg-primary);
        border-radius: 6px;
        border-left: 4px solid var(--accent-primary);
    }

    .external-rating-item strong {
        color: var(--text-primary);
        font-size: 1.1rem;
    }

    .loading-text {
        color: var(--text-muted);
        font-style: italic;
        text-align: center;
        padding: 10px;
    }

    /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–∞–Ω—Å–µ */
    .screening-info-block {
        margin: 25px 0;
        padding: 15px 20px;
        background-color: var(--bg-card);
        border-radius: 8px;
        border-left: 4px solid var(--accent-primary);
    }

    .screening-info-block p {
        margin: 0;
        color: var(--text-primary);
        font-size: 1.1rem;
    }

    .screening-info-block strong {
        color: var(--accent-primary);
    }

    /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
    .movie-actions {
        margin-top: 25px;
    }

    .btn-primary {
        display: inline-flex;
        align-items: center;
        padding: 14px 30px;
        background-color: var(--accent-primary);
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        gap: 10px;
    }

    .btn-primary:hover {
        background-color: var(--accent-hover);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(229, 9, 20, 0.3);
    }

    .btn-primary:active {
        transform: translateY(0);
    }

    .btn-danger {
        background-color: var(--error-color);
        color: white;
        padding: 10px 20px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }

    .btn-danger:hover {
        background-color: #c82333;
        transform: translateY(-2px);
    }

    /* –°–æ–æ–±—â–µ–Ω–∏—è */
    .alert {
        padding: 15px 20px;
        margin: 20px 0;
        border-radius: 8px;
        font-weight: bold;
        border: 1px solid transparent;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .alert-info {
        background-color: rgba(23, 162, 184, 0.1);
        color: var(--info-color);
        border-color: rgba(23, 162, 184, 0.3);
    }

    .alert-error {
        background-color: rgba(229, 9, 20, 0.1);
        color: var(--error-color);
        border-color: rgba(229, 9, 20, 0.3);
    }

    .alert-success {
        background-color: rgba(40, 167, 69, 0.1);
        color: var(--success-color);
        border-color: rgba(40, 167, 69, 0.3);
    }

    .alert a {
        color: inherit;
        text-decoration: underline;
        font-weight: bold;
    }

    /* –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ */
    .movie-description-block {
        margin: 50px 0;
    }

    .movie-description-block h2 {
        font-size: 28px;
        color: var(--text-primary);
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--border-color);
        font-weight: bold;
    }

    .description-content {
        font-size: 1.1rem;
        line-height: 1.8;
        color: var(--text-secondary);
        text-align: justify;
    }

    /* –¢—Ä–µ–π–ª–µ—Ä */
    .movie-trailer-block {
        margin: 50px 0;
    }

    .movie-trailer-block h2 {
        font-size: 28px;
        color: var(--text-primary);
        margin-bottom: 25px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--border-color);
        font-weight: bold;
    }

    .trailer-iframe-container {
        position: relative;
        width: 100%;
        padding-top: 56.25%;
        background: var(--bg-primary);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 6px 25px var(--shadow-color);
    }

    .trailer-iframe-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
    }

    /* –®–æ—Ä—Ç—Å—ã */
    .movie-shorts-block {
        margin: 50px 0;
    }

    .movie-shorts-block h2 {
        font-size: 28px;
        color: var(--text-primary);
        margin-bottom: 25px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--border-color);
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .shorts-slider-container {
        position: relative;
        padding: 0 50px;
    }

    .shorts-grid {
        display: flex;
        overflow-x: auto;
        padding: 20px 0;
        gap: 20px;
        scroll-behavior: smooth;
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .shorts-grid::-webkit-scrollbar {
        display: none;
    }

    .short-card {
        flex: 0 0 160px;
        height: 280px;
        background-color: var(--bg-card);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px var(--shadow-color);
        transition: transform 0.3s ease;
    }

    .short-card:hover {
        transform: translateY(-8px) scale(1.03);
        box-shadow: 0 12px 30px var(--shadow-color);
    }

    .short-card-link {
        display: block;
        height: 75%;
        position: relative;
        text-decoration: none;
        overflow: hidden;
    }

    .short-placeholder-video {
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--accent-primary), #333);
        display: flex;
        justify-content: center;
        align-items: center;
        transition: all 0.3s ease;
    }

    .short-card:hover .short-placeholder-video {
        background: linear-gradient(135deg, var(--accent-hover), #444);
    }

    .short-placeholder-video i {
        font-size: 60px;
        color: white;
        opacity: 0.9;
        transition: transform 0.3s ease;
    }

    .short-card:hover .short-placeholder-video i {
        transform: scale(1.1);
    }

    .short-duration {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
    }

    .short-card-info {
        height: 25%;
        padding: 12px;
        display: flex;
        align-items: center;
        background-color: var(--bg-primary);
    }

    .short-card-info h3 {
        font-size: 14px;
        margin: 0;
        color: var(--text-primary);
        font-weight: 600;
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .slider-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: var(--bg-card);
        color: var(--text-primary);
        border: none;
        cursor: pointer;
        z-index: 10;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px var(--shadow-color);
    }

    .slider-arrow:hover {
        background: var(--accent-primary);
        color: white;
        transform: translateY(-50%) scale(1.1);
    }

    .slider-prev {
        left: 0;
    }

    .slider-next {
        right: 0;
    }

    /* –û—Ç–∑—ã–≤—ã */
    .reviews-section {
        margin: 60px 0 30px 0;
        padding-top: 30px;
        border-top: 2px solid var(--border-color);
    }

    .reviews-section h2 {
        font-size: 28px;
        color: var(--text-primary);
        margin-bottom: 30px;
        font-weight: bold;
    }

    /* –§–æ—Ä–º–∞ –æ—Ç–∑—ã–≤–∞ */
    .review-form-container {
        padding: 25px;
        border: 1px solid var(--border-color);
        border-radius: 12px;
        margin-bottom: 40px;
        background-color: var(--bg-card);
        box-shadow: 0 4px 20px var(--shadow-color);
    }

    .review-form-container h3 {
        margin-top: 0;
        margin-bottom: 25px;
        color: var(--text-primary);
        font-size: 22px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--border-color);
    }

    .form-group {
        margin-bottom: 25px;
    }

    .form-group label {
        display: block;
        margin-bottom: 10px;
        font-weight: bold;
        color: var(--text-primary);
        font-size: 16px;
    }

    .rating-group {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    /* –ó–≤–µ–∑–¥–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ */
    .star-rating-area {
        display: flex;
        flex-direction: row-reverse;
        justify-content: flex-end;
    }

    .star-rating-area input[type="radio"] {
        display: none;
    }

    .star-rating-area label {
        font-size: 0;
        color: var(--border-color);
        cursor: pointer;
        transition: color 0.2s;
        line-height: 1;
        padding: 0 5px;
        margin: 0;
    }

    .star-rating-area label::before {
        content: '‚òÖ';
        font-size: 2.5rem;
        color: inherit;
    }

    .star-rating-area label:hover,
    .star-rating-area label:hover ~ label,
    .star-rating-area input[type="radio"]:checked ~ label {
        color: #ffc107;
    }

    /* –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ */
    textarea {
        width: 100%;
        padding: 15px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        background-color: var(--bg-input);
        color: var(--text-primary);
        font-size: 16px;
        resize: vertical;
        transition: border-color 0.3s;
        font-family: inherit;
    }

    textarea:focus {
        border-color: var(--accent-primary);
        outline: none;
        box-shadow: 0 0 0 2px rgba(229, 9, 20, 0.1);
        background-color: var(--bg-input-focus);
    }

    textarea::placeholder {
        color: var(--text-muted);
    }

    .char-counter {
        text-align: right;
        font-size: 14px;
        color: var(--text-muted);
        margin-top: 5px;
    }

    /* –î–µ–π—Å—Ç–≤–∏—è —Å –æ—Ç–∑—ã–≤–æ–º */
    .review-edit-actions {
        display: flex;
        gap: 15px;
        margin-top: 20px;
        flex-wrap: wrap;
    }

    /* –°–ø–∏—Å–æ–∫ –æ—Ç–∑—ã–≤–æ–≤ */
    .reviews-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .no-reviews-message {
        text-align: center;
        padding: 50px 20px;
        color: var(--text-muted);
        background-color: var(--bg-card);
        border-radius: 10px;
        border: 2px dashed var(--border-color);
    }

    .no-reviews-message p {
        font-size: 18px;
        margin: 0;
    }

    .review-item {
        padding: 25px;
        border: 1px solid var(--border-color);
        border-radius: 12px;
        background-color: var(--bg-card);
        transition: transform 0.3s ease;
    }

    .review-item:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 20px var(--shadow-color);
    }

    .user-review-highlight {
        border-color: var(--accent-primary);
        background-color: rgba(229, 9, 20, 0.05);
        order: -1;
    }

    .review-header {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--border-color);
        flex-wrap: wrap;
        gap: 15px;
    }

    .review-author {
        font-weight: bold;
        color: var(--accent-primary);
        font-size: 1.1rem;
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .review-rating {
        font-weight: bold;
        color: #ffc107;
        font-size: 1.1rem;
        background-color: rgba(255, 193, 7, 0.1);
        padding: 4px 10px;
        border-radius: 20px;
    }

    .review-date {
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-left: auto;
    }

    .review-text {
        margin-top: 15px;
        line-height: 1.7;
        color: var(--text-secondary);
        white-space: pre-wrap;
        word-wrap: break-word;
    }

    .admin-review-actions {
        margin-left: auto;
    }

    .btn-text-link {
        background: none;
        border: none;
        padding: 5px 10px;
        color: var(--error-color);
        font-size: 14px;
        cursor: pointer;
        text-decoration: none;
        transition: all 0.2s;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        border-radius: 4px;
    }

    .btn-text-link:hover {
        background-color: rgba(220, 53, 69, 0.1);
        text-decoration: underline;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 1024px) {
        .movie-header {
            gap: 40px;
        }

        .movie-poster {
            width: 280px;
        }

        .movie-title-group h1 {
            font-size: 2.4rem;
        }
    }

    @media (max-width: 768px) {
        .movie-details-container {
            padding: 0 15px;
            margin: 30px auto;
        }

        .movie-header {
            flex-direction: column;
            gap: 30px;
        }

        .movie-poster {
            width: 100%;
            max-width: 350px;
            margin: 0 auto;
        }

        .movie-title-group {
            flex-direction: column;
            align-items: flex-start;
        }

        .movie-title-group h1 {
            font-size: 2rem;
            text-align: center;
            width: 100%;
        }

        .btn-admin-edit {
            align-self: stretch;
            text-align: center;
            justify-content: center;
        }

        .shorts-slider-container {
            padding: 0 40px;
        }

        .short-card {
            flex: 0 0 140px;
            height: 250px;
        }

        .slider-arrow {
            width: 40px;
            height: 40px;
            font-size: 20px;
        }

        .review-edit-actions {
            flex-direction: column;
        }

        .btn-primary, .btn-danger {
            width: 100%;
            justify-content: center;
        }
    }

    @media (max-width: 480px) {
        .movie-title-group h1 {
            font-size: 1.8rem;
        }

        .movie-poster {
            max-width: 300px;
        }

        .rating-badge-lg {
            font-size: 1rem;
            padding: 8px 12px;
        }

        .age-restriction-badge {
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
        }

        .shorts-slider-container {
            padding: 0 35px;
        }

        .short-card {
            flex: 0 0 130px;
            height: 230px;
        }

        .short-placeholder-video i {
            font-size: 50px;
        }

        .review-form-container {
            padding: 20px;
        }

        .star-rating-area label::before {
            font-size: 2rem;
        }

        .review-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
        }

        .review-date {
            margin-left: 0;
        }

        .admin-review-actions {
            margin-left: 0;
            margin-top: 10px;
        }
    }
</style>