<div class="auth-page">
    <div class="auth-card">
        <h2>Регистрация</h2>

        {{#if error}}
            <p class="error-message">{{error}}</p>
        {{/if}}

        <form action="/auth/register" method="POST">
            <div class="input-group">
                <label for="email">Email *</label>
                {{!-- Используем registerData для предзаполнения, если была ошибка валидации --}}
                <input type="email" id="email" name="email" required
                       value="{{#if registerData}}{{registerData.email}}{{/if}}">
            </div>

            <div class="input-group">
                <label for="nickname">Никнейм *</label>
                <input type="text" id="nickname" name="nickname" required
                       value="{{#if registerData}}{{registerData.nickname}}{{/if}}">
            </div>

            <div class="input-group">
                <label for="password">Пароль * (минимум 6 символов)</label>
                <input type="password" id="password" name="password" required>
            </div>

            <div class="input-group">
                <label for="confirm">Повторите пароль *</label>
                <input type="password" id="confirm" name="confirm" required>
            </div>

            {{!-- Дополнительные поля (опциональны в таблице Users) --}}
            <div class="input-group">
                <label for="firstName">Имя</label>
                <input type="text" id="firstName" name="firstName"
                       value="{{#if registerData}}{{registerData.firstName}}{{/if}}">
            </div>

            <div class="input-group">
                <label for="lastName">Фамилия</label>
                <input type="text" id="lastName" name="lastName"
                       value="{{#if registerData}}{{registerData.lastName}}{{/if}}">
            </div>

            <div class="input-group">
                <label for="phone">Телефон</label>
                <input type="tel" id="phone" name="phone"
                       value="{{#if registerData}}{{registerData.phone}}{{/if}}">
            </div>

            {{!-- CSRF-токен обязателен --}}
            <!--            <input type="hidden" name="_csrf" value="{{csrfToken}}">-->
            <button type="submit" class="btn btn-primary full-width">Зарегистрироваться</button>
            <p class="switch-auth">Уже есть аккаунт? <a href="/auth/login">Войти</a></p>
        </form>
    </div>
</div>