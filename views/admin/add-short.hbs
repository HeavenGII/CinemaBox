<div class="main-wrapper">
    <div class="page-container">
        <h1 class="page-title">{{title}}</h1>

        {{!-- Вывод сообщений об ошибках и успехе --}}
        {{#if error}}
            <div class="alert alert-danger">{{error}}</div>
        {{/if}}
        {{#if success}}
            <div class="alert alert-success">{{success}}</div>
        {{/if}}

        <form action="/admin/add-short" method="POST" class="edit-form" enctype="multipart/form-data">

            {{!-- Выбор фильма --}}
            <div class="form-group">
                <label for="movieId">Привязать к фильму</label>
                <select id="movieId" name="movieId" required>
                    <option value="">-- Выберите фильм --</option>
                    {{#each movies}}
                        <option value="{{movieid}}" {{#ifeq movieid ../formData.movieId}}selected{{/ifeq}}>
                            {{title}}
                        </option>
                    {{/each}}
                </select>
            </div>

            {{!-- Название/заголовок видео --}}
            <div class="form-group">
                <label for="title">Заголовок короткого видео</label>
                <input type="text" id="title" name="title" value="{{formData.title}}" required>
            </div>

            {{!-- Длительность --}}
            <div class="form-group">
                <label for="durationsec">Длительность (секунды, до 60)</label>
                <input type="number" id="durationsec" name="durationsec" value="{{formData.durationsec}}" min="1" max="180" required>
            </div>

            {{!-- Загрузка видеофайла --}}
            <div class="form-group">
                <label for="shortVideoFile">Видеофайл (MP4, MOV и т.д. | до 20MB)</label>
                <input type="file" id="shortVideoFile" name="shortVideoFile" accept="video/*" required>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-save">Добавить видео</button>
            </div>
        </form>
    </div>
</div>

<style>
    /* ---------------------------------------------------------------- */
    /* ОБЩИЕ СТИЛИ КОНТЕЙНЕРА (Стилистика CinemaBox) */
    /* ---------------------------------------------------------------- */

    .main-wrapper {
        background-color: #1a1a1a; /* Темный фон */
        color: #f0f0f0;
        min-height: 100vh;
        padding-bottom: 50px;
        font-family: Arial, sans-serif; /* Предполагаемый шрифт */
    }

    .page-container {
        max-width: 600px; /* Сделаем форму более компактной, как в админке */
        margin: 0 auto;
        padding: 0 20px;
    }

    .page-title {
        font-size: 32px;
        color: #e50914; /* Красный акцентный цвет */
        text-align: center;
        padding-top: 40px;
        margin-bottom: 30px;
        /* Убираем черту, чтобы соответствовать стилю заголовков в афише */
    }

    /* ---------------------------------------------------------------- */
    /* СТИЛИ ФОРМЫ */
    /* ---------------------------------------------------------------- */
    .edit-form {
        background-color: #242424; /* Более светлый темный фон для блока */
        padding: 30px;
        border-radius: 5px;
        border: 1px solid #333;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        color: #cccccc;
    }

    .form-group input[type="text"],
    .form-group input[type="number"],
    .form-group input[type="file"],
    .form-group select {
        width: 100%;
        padding: 10px;
        border: 1px solid #444;
        border-radius: 3px;
        background-color: #333;
        color: #f0f0f0;
        font-size: 16px;
        box-sizing: border-box; /* Важно для корректной ширины */
    }

    /* Стили для кнопки выбора файла */
    .form-group input[type="file"] {
        padding: 5px 10px;
        border: none;
        background-color: #444;
        cursor: pointer;
    }

    /* ---------------------------------------------------------------- */
    /* СООБЩЕНИЯ И КНОПКИ */
    /* ---------------------------------------------------------------- */

    .alert {
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 4px;
        font-weight: bold;
    }

    .alert-danger {
        background-color: #3f1e1e; /* Темно-красный фон */
        color: #ff5555; /* Светло-красный текст */
        border: 1px solid #ff0000;
    }

    .alert-success {
        background-color: #1e3f1e; /* Темно-зеленый фон */
        color: #55ff55; /* Светло-зеленый текст */
        border: 1px solid #00ff00;
    }

    .form-actions {
        margin-top: 30px;
        text-align: right;
    }

    .btn-save {
        background-color: #e50914; /* Основной акцентный цвет */
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 3px;
        font-size: 18px;
        cursor: pointer;
        transition: background-color 0.2s;
        text-transform: uppercase;
        font-weight: bold;
    }

    .btn-save:hover {
        background-color: #ff1a26; /* Более яркий красный при наведении */
    }
</style>